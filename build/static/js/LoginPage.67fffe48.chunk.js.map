{"version":3,"sources":["components/login/Login.js","redux/token/tokenOperation.js","pages/LoginPage.js","components/loader/Bar.js","components/loader/Container.js","components/loader/Spinner.js","components/loader/Progress.js","components/login/login.module.css"],"names":["Login","handleSubmit","handleChange","state","className","styles","wrapper","column","loginWrapper","overlayBG","title","ladingText","onSubmit","inputSectionWrapper","loginCaption","input","name","type","placeholder","onChange","value","login","loginBtn","getData","data","getUser","user","getToken","_id","getTasks","tasks","isToday","date","today","Date","getDate","getMonth","getFullYear","isTomorrow","callFakeAPI","delay","Promise","resolve","setTimeout","initialState","nickname","LoginPage","useState","isLoading","setIsLoading","setstate","dispatch","useDispatch","useEffect","a","Progress","isAnimating","evt","params","preventDefault","getState","axios","post","status","tokenValue","nickName","dashBoard","tomorrow","allRest","done","challange","map","task","push","actualDate","dueDate","userSlice","actions","tokenSlice","token","dashBoardSlice","console","log","target","prev","Bar","progress","animationDuration","style","background","height","left","marginLeft","position","top","transition","width","zIndex","boxShadow","display","opacity","right","transform","Container","children","isFinished","pointerEvents","Spinner","animation","borderBottom","borderLeft","borderRadius","borderRight","borderTop","boxSizing","useNProgress","module","exports"],"mappings":"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","file":"static/js/LoginPage.67fffe48.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './login.module.css';\r\n\r\nconst Login = ({ handleSubmit, handleChange, state }) => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <div className={`container ${styles.column}`}>\r\n        <section className={styles.loginWrapper}>\r\n          <div className={styles.overlayBG}>\r\n            <h1 className={styles.title}>Questifiy</h1>\r\n            <p className={styles.ladingText}>\r\n              Questify will turn your life into a thrilling game full of amazing\r\n              quests and exciting challenges.\r\n            </p>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className={styles.inputSectionWrapper}>\r\n                <p className={styles.loginCaption}>\r\n                  Choose your name to sign up or log in\r\n                </p>\r\n                <input\r\n                  className={styles.input}\r\n                  name=\"nickname\"\r\n                  type=\"text\"\r\n                  placeholder=\"|\"\r\n                  onChange={handleChange}\r\n                  value={state.login}\r\n                />\r\n                <button className={styles.loginBtn} type=\"submit\">\r\n                  Go!\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import axios from 'axios';\r\nimport { tokenSlice } from './tokenReducer';\r\nimport { userSlice } from '../user/userReducer';\r\nimport { dashBoardSlice } from '../dashBoard/dashBoardReducer';\r\n\r\nconst getData = data => data.data.data;\r\nconst getUser = data => getData(data).user;\r\nconst getToken = data => getUser(data)._id;\r\nconst getTasks = data => getData(data).tasks;\r\n\r\nconst isToday = date => {\r\n  const today = new Date();\r\n  return (\r\n    date.getDate() === today.getDate() &&\r\n    date.getMonth() === today.getMonth() &&\r\n    date.getFullYear() === today.getFullYear()\r\n  );\r\n};\r\n\r\nconst isTomorrow = date => {\r\n  const today = new Date();\r\n  return (\r\n    date.getDate() === today.getDate() + 1 &&\r\n    date.getMonth() === today.getMonth() &&\r\n    date.getFullYear() === today.getFullYear()\r\n  );\r\n};\r\n\r\nexport const signInUser = params => async (dispatch, getState) => {\r\n  try {\r\n    const data = await axios.post(\r\n      'https://questify.goit.co.ua/api/login',\r\n      params,\r\n    );\r\n    const status = data.status === 200;\r\n    const tokenValue = getToken(data);\r\n    const nickName = getUser(data).nickname;\r\n    const tasks = getTasks(data);\r\n    const dashBoard = {\r\n      today: [],\r\n      tomorrow: [],\r\n      allRest: [],\r\n      done: [],\r\n      challange: [],\r\n    };\r\n\r\n    tasks.map(task => {\r\n      if (task.done) {\r\n        return dashBoard.done.push(task);\r\n      } else {\r\n        const actualDate = new Date(task.dueDate);\r\n        if (isToday(actualDate)) {\r\n          return dashBoard.today.push(task);\r\n        } else if (isTomorrow(actualDate)) {\r\n          return dashBoard.tomorrow.push(task);\r\n        } else {\r\n          return dashBoard.allRest.push(task);\r\n        }\r\n      }\r\n    });\r\n    if (status) {\r\n      dispatch(userSlice.actions.getUser(nickName));\r\n      dispatch(tokenSlice.actions.getToken({ token: tokenValue }));\r\n      dispatch(dashBoardSlice.actions.getTasks(dashBoard));\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Login from '../components/login/Login';\r\nimport { signInUser } from '../redux/token/tokenOperation';\r\nimport Progress from '../components/loader/Progress';\r\n\r\nconst callFakeAPI = delay =>\r\n  new Promise(resolve => {\r\n    setTimeout(resolve, delay);\r\n  });\r\nconst initialState = {\r\n  nickname: '',\r\n};\r\n\r\nconst LoginPage = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [state, setstate] = useState(initialState);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      await callFakeAPI(500);\r\n      setIsLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    dispatch(signInUser(state));\r\n  };\r\n\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    setstate(prev => ({ ...prev, [name]: value }));\r\n  };\r\n  return (\r\n    <>\r\n      <Progress isAnimating={isLoading} />\r\n      <Login\r\n        handleSubmit={handleSubmit}\r\n        handleChange={handleChange}\r\n        state={state}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\n\r\nconst Bar = ({ progress, animationDuration }) => (\r\n  <div\r\n    style={{\r\n      background: '#29d',\r\n      height: 2,\r\n      left: 0,\r\n      marginLeft: `${(-1 + progress) * 100}%`,\r\n      position: 'fixed',\r\n      top: 0,\r\n      transition: `margin-left ${animationDuration}ms linear`,\r\n      width: '100%',\r\n      zIndex: 1031,\r\n    }}>\r\n    <div\r\n      style={{\r\n        boxShadow: '0 0 10px #29d, 0 0 5px #29d',\r\n        display: 'block',\r\n        height: '100%',\r\n        opacity: 1,\r\n        position: 'absolute',\r\n        right: 0,\r\n        transform: 'rotate(3deg) translate(0px, -4px)',\r\n        width: 100,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default Bar;\r\n","import React from 'react';\r\n\r\nconst Container = ({ children, isFinished, animationDuration }) => (\r\n  <div\r\n    style={{\r\n      opacity: isFinished ? 0 : 1,\r\n      pointerEvents: 'none',\r\n      transition: `opacity ${animationDuration}ms linear`,\r\n    }}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default Container;\r\n","import React from 'react';\r\n\r\nconst Spinner = () => (\r\n  <div\r\n    style={{\r\n      display: 'block',\r\n      position: 'fixed',\r\n      right: 15,\r\n      top: 15,\r\n      zIndex: 1031,\r\n    }}>\r\n    <div\r\n      style={{\r\n        animation: '400ms linear infinite spinner',\r\n        borderBottom: '2px solid transparent',\r\n        borderLeft: '2px solid #29d',\r\n        borderRadius: '50%',\r\n        borderRight: '2px solid transparent',\r\n        borderTop: '2px solid #29d',\r\n        boxSizing: 'border-box',\r\n        height: 18,\r\n        width: 18,\r\n      }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import { useNProgress } from '@tanem/react-nprogress';\r\nimport React from 'react';\r\nimport Bar from './Bar';\r\nimport Container from './Container';\r\nimport './loader.css';\r\nimport Spinner from './Spinner';\r\n\r\nconst Progress = ({ isAnimating }) => {\r\n  const { animationDuration, isFinished, progress } = useNProgress({\r\n    isAnimating,\r\n  });\r\n\r\n  return (\r\n    <Container isFinished={isFinished} animationDuration={animationDuration}>\r\n      <Bar progress={progress} animationDuration={animationDuration} />\r\n      <Spinner />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Progress;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__2irlY\",\"loginWrapper\":\"login_loginWrapper__fCyY3\",\"title\":\"login_title__2RKJ-\",\"column\":\"login_column__8cL5B\",\"ladingText\":\"login_ladingText__6RNbv\",\"loginCaption\":\"login_loginCaption__3wK-s\",\"input\":\"login_input__3CoDC\",\"loginBtn\":\"login_loginBtn__1xH0Y\",\"inputSectionWrapper\":\"login_inputSectionWrapper__3NOgt\",\"square\":\"login_square__1Yt5A\",\"overlayBG\":\"login_overlayBG__ZsS4-\"};"],"sourceRoot":""}