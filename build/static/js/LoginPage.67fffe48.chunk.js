(this["webpackJsonpreactive-do"]=this["webpackJsonpreactive-do"]||[]).push([[2],{137:function(e,t,n){"use strict";n.r(t);var a=n(10),i=n(4),r=n(53),o=n.n(r),l=n(54),c=n(57),s=n(0),u=n.n(s),p=n(15),g=n(80),m=n.n(g),d=function(e){var t=e.handleSubmit,n=e.handleChange,a=e.state;return u.a.createElement("div",{className:m.a.wrapper},u.a.createElement("div",{className:"container ".concat(m.a.column)},u.a.createElement("section",{className:m.a.loginWrapper},u.a.createElement("div",{className:m.a.overlayBG},u.a.createElement("h1",{className:m.a.title},"Questifiy"),u.a.createElement("p",{className:m.a.ladingText},"Questify will turn your life into a thrilling game full of amazing quests and exciting challenges."),u.a.createElement("form",{onSubmit:t},u.a.createElement("div",{className:m.a.inputSectionWrapper},u.a.createElement("p",{className:m.a.loginCaption},"Choose your name to sign up or log in"),u.a.createElement("input",{className:m.a.input,name:"nickname",type:"text",placeholder:"|",onChange:n,value:a.login}),u.a.createElement("button",{className:m.a.loginBtn,type:"submit"},"Go!")))))))},f=n(56),h=n.n(f),v=n(20),b=n(22),_=n(18),x=function(e){return e.data.data},y=function(e){return x(e).user},E=function(e){return y(e)._id},w=function(e){return x(e).tasks},k=function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},D=function(e){var t=new Date;return e.getDate()===t.getDate()+1&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},O=n(61),j=function(e){return new Promise((function(t){setTimeout(t,e)}))},N={nickname:""};t.default=function(){var e=Object(s.useState)(!0),t=Object(c.a)(e,2),n=t[0],r=t[1],g=Object(s.useState)(N),m=Object(c.a)(g,2),f=m[0],x=m[1],S=Object(p.b)();Object(s.useEffect)((function(){Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(500);case 2:r(!1);case 3:case"end":return e.stop()}}),e)})))()}),[]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{isAnimating:n}),u.a.createElement(d,{handleSubmit:function(e){var t;e.preventDefault(),S((t=f,function(){var e=Object(l.a)(o.a.mark((function e(n,a){var i,r,l,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("https://questify.goit.co.ua/api/login",t);case 3:i=e.sent,r=200===i.status,l=E(i),c=y(i).nickname,s=w(i),u={today:[],tomorrow:[],allRest:[],done:[],challange:[]},s.map((function(e){if(e.done)return u.done.push(e);var t=new Date(e.dueDate);return k(t)?u.today.push(e):D(t)?u.tomorrow.push(e):u.allRest.push(e)})),r&&(n(b.a.actions.getUser(c)),n(v.a.actions.getToken({token:l})),n(_.a.actions.getTasks(u))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}()))},handleChange:function(e){var t=e.target,n=t.name,r=t.value;x((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},n,r))}))},state:f}))}},59:function(e,t,n){},61:function(e,t,n){"use strict";var a=n(77),i=n(0),r=n.n(i),o=function(e){var t=e.progress,n=e.animationDuration;return r.a.createElement("div",{style:{background:"#29d",height:2,left:0,marginLeft:"".concat(100*(-1+t),"%"),position:"fixed",top:0,transition:"margin-left ".concat(n,"ms linear"),width:"100%",zIndex:1031}},r.a.createElement("div",{style:{boxShadow:"0 0 10px #29d, 0 0 5px #29d",display:"block",height:"100%",opacity:1,position:"absolute",right:0,transform:"rotate(3deg) translate(0px, -4px)",width:100}}))},l=function(e){var t=e.children,n=e.isFinished,a=e.animationDuration;return r.a.createElement("div",{style:{opacity:n?0:1,pointerEvents:"none",transition:"opacity ".concat(a,"ms linear")}},t)},c=(n(59),function(){return r.a.createElement("div",{style:{display:"block",position:"fixed",right:15,top:15,zIndex:1031}},r.a.createElement("div",{style:{animation:"400ms linear infinite spinner",borderBottom:"2px solid transparent",borderLeft:"2px solid #29d",borderRadius:"50%",borderRight:"2px solid transparent",borderTop:"2px solid #29d",boxSizing:"border-box",height:18,width:18}}))});t.a=function(e){var t=e.isAnimating,n=Object(a.a)({isAnimating:t}),i=n.animationDuration,s=n.isFinished,u=n.progress;return r.a.createElement(l,{isFinished:s,animationDuration:i},r.a.createElement(o,{progress:u,animationDuration:i}),r.a.createElement(c,null))}},80:function(e,t,n){e.exports={wrapper:"login_wrapper__2irlY",loginWrapper:"login_loginWrapper__fCyY3",title:"login_title__2RKJ-",column:"login_column__8cL5B",ladingText:"login_ladingText__6RNbv",loginCaption:"login_loginCaption__3wK-s",input:"login_input__3CoDC",loginBtn:"login_loginBtn__1xH0Y",inputSectionWrapper:"login_inputSectionWrapper__3NOgt",square:"login_square__1Yt5A",overlayBG:"login_overlayBG__ZsS4-"}}}]);
//# sourceMappingURL=LoginPage.67fffe48.chunk.js.map